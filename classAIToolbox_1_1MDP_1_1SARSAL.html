<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIToolbox: AIToolbox::MDP::SARSAL Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html">SARSAL</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAIToolbox_1_1MDP_1_1SARSAL-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::MDP::SARSAL Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents the <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> algorithm.  
 <a href="classAIToolbox_1_1MDP_1_1SARSAL.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SARSAL_8hpp_source.html">SARSAL.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae5cb425a80db48828bde436d4574c117"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ae5cb425a80db48828bde436d4574c117">Trace</a> = std::tuple&lt; size_t, size_t, double &gt;</td></tr>
<tr class="separator:ae5cb425a80db48828bde436d4574c117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecda3052358bc9c5eed68e10d829bcb0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aecda3052358bc9c5eed68e10d829bcb0">Traces</a> = std::vector&lt; <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ae5cb425a80db48828bde436d4574c117">Trace</a> &gt;</td></tr>
<tr class="separator:aecda3052358bc9c5eed68e10d829bcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5d7d34d7c88105f4a05b44e845c79438"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a5d7d34d7c88105f4a05b44e845c79438">SARSAL</a> (size_t S, size_t A, double discount=1.0, double alpha=0.1, double lambda=0.9, double epsilon=0.001)</td></tr>
<tr class="memdesc:a5d7d34d7c88105f4a05b44e845c79438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#a5d7d34d7c88105f4a05b44e845c79438">More...</a><br /></td></tr>
<tr class="separator:a5d7d34d7c88105f4a05b44e845c79438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb212ac45a4cbe1307acbf53822659e"><td class="memTemplParams" colspan="2">template&lt;typename M , typename  = std::enable_if_t&lt;is_generative_model_v&lt;M&gt;&gt;&gt; </td></tr>
<tr class="memitem:aacb212ac45a4cbe1307acbf53822659e"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aacb212ac45a4cbe1307acbf53822659e">SARSAL</a> (const M &amp;model, double alpha=0.1, double lambda=0.9, double epsilon=0.001)</td></tr>
<tr class="memdesc:aacb212ac45a4cbe1307acbf53822659e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#aacb212ac45a4cbe1307acbf53822659e">More...</a><br /></td></tr>
<tr class="separator:aacb212ac45a4cbe1307acbf53822659e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7d147b86033ebe670a58f9d5e9d247"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a6e7d147b86033ebe670a58f9d5e9d247">stepUpdateQ</a> (size_t s, size_t a, size_t s1, size_t a1, double rew)</td></tr>
<tr class="memdesc:a6e7d147b86033ebe670a58f9d5e9d247"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the internal QFunction using the discount set during construction.  <a href="#a6e7d147b86033ebe670a58f9d5e9d247">More...</a><br /></td></tr>
<tr class="separator:a6e7d147b86033ebe670a58f9d5e9d247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adada133e0cff0ea83365c0148493e04a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#adada133e0cff0ea83365c0148493e04a">setLearningRate</a> (double a)</td></tr>
<tr class="memdesc:adada133e0cff0ea83365c0148493e04a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the learning rate parameter.  <a href="#adada133e0cff0ea83365c0148493e04a">More...</a><br /></td></tr>
<tr class="separator:adada133e0cff0ea83365c0148493e04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea74f482720d02c3426029a2d7d8b4c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a8ea74f482720d02c3426029a2d7d8b4c">getLearningRate</a> () const</td></tr>
<tr class="memdesc:a8ea74f482720d02c3426029a2d7d8b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will return the current set learning rate parameter.  <a href="#a8ea74f482720d02c3426029a2d7d8b4c">More...</a><br /></td></tr>
<tr class="separator:a8ea74f482720d02c3426029a2d7d8b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeddc202b7e11fc39afa0db368b670e98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aeddc202b7e11fc39afa0db368b670e98">setDiscount</a> (double d)</td></tr>
<tr class="memdesc:aeddc202b7e11fc39afa0db368b670e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the new discount parameter.  <a href="#aeddc202b7e11fc39afa0db368b670e98">More...</a><br /></td></tr>
<tr class="separator:aeddc202b7e11fc39afa0db368b670e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e47a8dcf2e3cb1ed70cfbca449adb17"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a9e47a8dcf2e3cb1ed70cfbca449adb17">getDiscount</a> () const</td></tr>
<tr class="memdesc:a9e47a8dcf2e3cb1ed70cfbca449adb17"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set discount parameter.  <a href="#a9e47a8dcf2e3cb1ed70cfbca449adb17">More...</a><br /></td></tr>
<tr class="separator:a9e47a8dcf2e3cb1ed70cfbca449adb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa284081157b0f8db3c29e1703e403f24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aa284081157b0f8db3c29e1703e403f24">setLambda</a> (double l)</td></tr>
<tr class="memdesc:aa284081157b0f8db3c29e1703e403f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the new lambda parameter.  <a href="#aa284081157b0f8db3c29e1703e403f24">More...</a><br /></td></tr>
<tr class="separator:aa284081157b0f8db3c29e1703e403f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088cd0ed3460bedffd035ea1aa29cb44"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a088cd0ed3460bedffd035ea1aa29cb44">getLambda</a> () const</td></tr>
<tr class="memdesc:a088cd0ed3460bedffd035ea1aa29cb44"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set lambda parameter.  <a href="#a088cd0ed3460bedffd035ea1aa29cb44">More...</a><br /></td></tr>
<tr class="separator:a088cd0ed3460bedffd035ea1aa29cb44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c3f530005e36bd02a94b3f4249e540"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a03c3f530005e36bd02a94b3f4249e540">setEpsilon</a> (double e)</td></tr>
<tr class="memdesc:a03c3f530005e36bd02a94b3f4249e540"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the trace cutoff parameter.  <a href="#a03c3f530005e36bd02a94b3f4249e540">More...</a><br /></td></tr>
<tr class="separator:a03c3f530005e36bd02a94b3f4249e540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be4ed46609bb166c2ea0efbc6710a0c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a7be4ed46609bb166c2ea0efbc6710a0c">getEpsilon</a> () const</td></tr>
<tr class="memdesc:a7be4ed46609bb166c2ea0efbc6710a0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set trace cutoff parameter.  <a href="#a7be4ed46609bb166c2ea0efbc6710a0c">More...</a><br /></td></tr>
<tr class="separator:a7be4ed46609bb166c2ea0efbc6710a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0eb982f9abd1c22d7986d71a99c9b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a2d0eb982f9abd1c22d7986d71a99c9b0">clearTraces</a> ()</td></tr>
<tr class="memdesc:a2d0eb982f9abd1c22d7986d71a99c9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the already set traces.  <a href="#a2d0eb982f9abd1c22d7986d71a99c9b0">More...</a><br /></td></tr>
<tr class="separator:a2d0eb982f9abd1c22d7986d71a99c9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5dc32c07c5241aa4f67120d332822e4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aecda3052358bc9c5eed68e10d829bcb0">Traces</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ab5dc32c07c5241aa4f67120d332822e4">getTraces</a> () const</td></tr>
<tr class="memdesc:ab5dc32c07c5241aa4f67120d332822e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set traces.  <a href="#ab5dc32c07c5241aa4f67120d332822e4">More...</a><br /></td></tr>
<tr class="separator:ab5dc32c07c5241aa4f67120d332822e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa902cf06619a169e0e6190bcf4589552"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aa902cf06619a169e0e6190bcf4589552">setTraces</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aecda3052358bc9c5eed68e10d829bcb0">Traces</a> &amp;t)</td></tr>
<tr class="memdesc:aa902cf06619a169e0e6190bcf4589552"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the currently set traces.  <a href="#aa902cf06619a169e0e6190bcf4589552">More...</a><br /></td></tr>
<tr class="separator:aa902cf06619a169e0e6190bcf4589552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82fd0b984f223802a64ff981615512db"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#a82fd0b984f223802a64ff981615512db">getS</a> () const</td></tr>
<tr class="memdesc:a82fd0b984f223802a64ff981615512db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of states on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working.  <a href="#a82fd0b984f223802a64ff981615512db">More...</a><br /></td></tr>
<tr class="separator:a82fd0b984f223802a64ff981615512db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb106525fc3d5aec23202730778bf58d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#adb106525fc3d5aec23202730778bf58d">getA</a> () const</td></tr>
<tr class="memdesc:adb106525fc3d5aec23202730778bf58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of actions on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working.  <a href="#adb106525fc3d5aec23202730778bf58d">More...</a><br /></td></tr>
<tr class="separator:adb106525fc3d5aec23202730778bf58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82d09e456a540f668e4764e26a4f14c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ab82d09e456a540f668e4764e26a4f14c">getQFunction</a> () const</td></tr>
<tr class="memdesc:ab82d09e456a540f668e4764e26a4f14c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns a reference to the internal QFunction.  <a href="#ab82d09e456a540f668e4764e26a4f14c">More...</a><br /></td></tr>
<tr class="separator:ab82d09e456a540f668e4764e26a4f14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c19cb27639380d7d4a81b9df9cca74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ae9c19cb27639380d7d4a81b9df9cca74">setQFunction</a> (const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;qfun)</td></tr>
<tr class="memdesc:ae9c19cb27639380d7d4a81b9df9cca74"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows to directly set the internal QFunction.  <a href="#ae9c19cb27639380d7d4a81b9df9cca74">More...</a><br /></td></tr>
<tr class="separator:ae9c19cb27639380d7d4a81b9df9cca74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represents the <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> algorithm. </p>
<p>This algorithms adds eligibility traces to the <a class="el" href="classAIToolbox_1_1MDP_1_1SARSA.html" title="This class represents the SARSA algorithm. ">SARSA</a> algorithm.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classAIToolbox_1_1MDP_1_1SARSA.html" title="This class represents the SARSA algorithm. ">SARSA</a></dd></dl>
<p>In order to more effectively use the data obtained, <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> keeps a list of previously visited state/action pairs, which are updated together with the last experienced transition. The updates all use the same value, with the difference that state/action pairs experienced more in the past are updated less (by discount*lambda per each previous timestep). Once this reducing coefficient falls below a certain threshold, the old state/action pair is forgotten and not updated anymore. If instead the pair is visited again, the coefficient is once again increased.</p>
<p>The idea is to be able to give credit to past actions for current reward in an efficient manner. This reduces the amount of data needed in order to backpropagate rewards, and allows <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> to learn faster.</p>
<p>This particular version of the algorithm implements capped traces: every time an action/state pair is witnessed, its eligibility trace is reset to 1.0. This avoids potentially diverging values which can happen with the normal eligibility traces. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ae5cb425a80db48828bde436d4574c117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cb425a80db48828bde436d4574c117">&#9670;&nbsp;</a></span>Trace</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ae5cb425a80db48828bde436d4574c117">AIToolbox::MDP::SARSAL::Trace</a> =  std::tuple&lt;size_t, size_t, double&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aecda3052358bc9c5eed68e10d829bcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecda3052358bc9c5eed68e10d829bcb0">&#9670;&nbsp;</a></span>Traces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aecda3052358bc9c5eed68e10d829bcb0">AIToolbox::MDP::SARSAL::Traces</a> =  std::vector&lt;<a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#ae5cb425a80db48828bde436d4574c117">Trace</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5d7d34d7c88105f4a05b44e845c79438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d7d34d7c88105f4a05b44e845c79438">&#9670;&nbsp;</a></span>SARSAL() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::MDP::SARSAL::SARSAL </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>discount</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lambda</em> = <code>0.9</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0.001</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<p>The learning rate must be &gt; 0.0 and &lt;= 1.0, otherwise the constructor will throw an std::invalid_argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">S</td><td>The state space of the underlying model. </td></tr>
    <tr><td class="paramname">A</td><td>The action space of the underlying model. </td></tr>
    <tr><td class="paramname">discount</td><td>The discount of the underlying model. </td></tr>
    <tr><td class="paramname">alpha</td><td>The learning rate of the <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> method. </td></tr>
    <tr><td class="paramname">lambda</td><td>The lambda parameter for the eligibility traces. </td></tr>
    <tr><td class="paramname">epsilon</td><td>The cutoff point for eligibility traces. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aacb212ac45a4cbe1307acbf53822659e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb212ac45a4cbe1307acbf53822659e">&#9670;&nbsp;</a></span>SARSAL() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M , typename &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::MDP::SARSAL::SARSAL </td>
          <td>(</td>
          <td class="paramtype">const M &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lambda</em> = <code>0.9</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0.001</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<p>The learning rate must be &gt; 0.0 and &lt;= 1.0, otherwise the constructor will throw an std::invalid_argument.</p>
<p>This constructor copies the S and A and discount parameters from the supplied model. It does not keep the reference, so if the discount needs to change you'll need to update it here manually too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> model that <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> will use as a base. </td></tr>
    <tr><td class="paramname">alpha</td><td>The learning rate of the <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> method. </td></tr>
    <tr><td class="paramname">lambda</td><td>The lambda parameter for the eligibility traces. </td></tr>
    <tr><td class="paramname">epsilon</td><td>The cutoff point for eligibility traces. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2d0eb982f9abd1c22d7986d71a99c9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d0eb982f9abd1c22d7986d71a99c9b0">&#9670;&nbsp;</a></span>clearTraces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::clearTraces </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function clears the already set traces. </p>

</div>
</div>
<a id="adb106525fc3d5aec23202730778bf58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb106525fc3d5aec23202730778bf58d">&#9670;&nbsp;</a></span>getA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t AIToolbox::MDP::SARSAL::getA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the number of actions on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of actions. </dd></dl>

</div>
</div>
<a id="a9e47a8dcf2e3cb1ed70cfbca449adb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e47a8dcf2e3cb1ed70cfbca449adb17">&#9670;&nbsp;</a></span>getDiscount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::SARSAL::getDiscount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set discount parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set discount parameter. </dd></dl>

</div>
</div>
<a id="a7be4ed46609bb166c2ea0efbc6710a0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be4ed46609bb166c2ea0efbc6710a0c">&#9670;&nbsp;</a></span>getEpsilon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::SARSAL::getEpsilon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set trace cutoff parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set trace cutoff parameter. </dd></dl>

</div>
</div>
<a id="a088cd0ed3460bedffd035ea1aa29cb44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a088cd0ed3460bedffd035ea1aa29cb44">&#9670;&nbsp;</a></span>getLambda()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::SARSAL::getLambda </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set lambda parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set lambda parameter. </dd></dl>

</div>
</div>
<a id="a8ea74f482720d02c3426029a2d7d8b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea74f482720d02c3426029a2d7d8b4c">&#9670;&nbsp;</a></span>getLearningRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::SARSAL::getLearningRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will return the current set learning rate parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set learning rate parameter. </dd></dl>

</div>
</div>
<a id="ab82d09e456a540f668e4764e26a4f14c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82d09e456a540f668e4764e26a4f14c">&#9670;&nbsp;</a></span>getQFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a>&amp; AIToolbox::MDP::SARSAL::getQFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns a reference to the internal QFunction. </p>
<p>The returned reference can be used to build Policies, for example <a class="el" href="classAIToolbox_1_1MDP_1_1QGreedyPolicy.html" title="This class models a greedy policy through a QFunction. ">MDP::QGreedyPolicy</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>The internal QFunction. </dd></dl>

</div>
</div>
<a id="a82fd0b984f223802a64ff981615512db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82fd0b984f223802a64ff981615512db">&#9670;&nbsp;</a></span>getS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t AIToolbox::MDP::SARSAL::getS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the number of states on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of states. </dd></dl>

</div>
</div>
<a id="ab5dc32c07c5241aa4f67120d332822e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5dc32c07c5241aa4f67120d332822e4">&#9670;&nbsp;</a></span>getTraces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aecda3052358bc9c5eed68e10d829bcb0">Traces</a>&amp; AIToolbox::MDP::SARSAL::getTraces </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set traces. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set traces. </dd></dl>

</div>
</div>
<a id="aeddc202b7e11fc39afa0db368b670e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeddc202b7e11fc39afa0db368b670e98">&#9670;&nbsp;</a></span>setDiscount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::setDiscount </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the new discount parameter. </p>
<p>The discount parameter controls the amount that future rewards are considered by <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a>. If 1, then any reward is the same, if obtained now or in a million timesteps. Thus the algorithm will optimize overall reward accretion. When less than 1, rewards obtained in the presents are valued more than future rewards.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>The new discount factor. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03c3f530005e36bd02a94b3f4249e540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c3f530005e36bd02a94b3f4249e540">&#9670;&nbsp;</a></span>setEpsilon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::setEpsilon </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the trace cutoff parameter. </p>
<p>This parameter determines when a trace is removed, as its coefficient has become too small to bother updating its value.</p>
<p>Note that the epsilon cutoff is performed on the overall discount*lambda value, and not only on lambda. So this parameter is useful even when lambda is 1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The new trace cutoff value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa284081157b0f8db3c29e1703e403f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa284081157b0f8db3c29e1703e403f24">&#9670;&nbsp;</a></span>setLambda()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::setLambda </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the new lambda parameter. </p>
<p>This parameter determines how much to decrease updates for each timestep in the past. If set to zero, <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> effectively becomes equivalent to <a class="el" href="classAIToolbox_1_1MDP_1_1SARSA.html" title="This class represents the SARSA algorithm. ">SARSA</a>, as no backpropagation will be performed. If set to 1 it will result in a method similar to Monte Carlo sampling, where rewards are backed up from the end to the beginning of the episode (of course still dependent on the discount of the model).</p>
<p>The lambda parameter must be &gt;= 0.0 and &lt;= 1.0, otherwise the function will throw an std::invalid_argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The new lambda parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adada133e0cff0ea83365c0148493e04a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adada133e0cff0ea83365c0148493e04a">&#9670;&nbsp;</a></span>setLearningRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::setLearningRate </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the learning rate parameter. </p>
<p>The learning parameter determines the speed at which the QFunction is modified with respect to new data. In fully deterministic environments (such as an agent moving through a grid, for example), this parameter can be safely set to 1.0 for maximum learning.</p>
<p>On the other side, in stochastic environments, in order to converge this parameter should be higher when first starting to learn, and decrease slowly over time.</p>
<p>Otherwise it can be kept somewhat high if the environment dynamics change progressively, and the algorithm will adapt accordingly. The final behaviour of <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> is very dependent on this parameter.</p>
<p>The learning rate parameter must be &gt; 0.0 and &lt;= 1.0, otherwise the function will throw an std::invalid_argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The new learning rate parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9c19cb27639380d7d4a81b9df9cca74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c19cb27639380d7d4a81b9df9cca74">&#9670;&nbsp;</a></span>setQFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::setQFunction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>qfun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows to directly set the internal QFunction. </p>
<p>This can be useful in order to use a QFunction that has already been computed elsewhere. <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> will then continue building upon it.</p>
<p>This is used for example in the <a class="el" href="classAIToolbox_1_1MDP_1_1Dyna2.html" title="This class represents the Dyna2 algorithm. ">Dyna2</a> algorithm.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qfun</td><td>The new QFunction to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa902cf06619a169e0e6190bcf4589552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa902cf06619a169e0e6190bcf4589552">&#9670;&nbsp;</a></span>setTraces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::setTraces </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html#aecda3052358bc9c5eed68e10d829bcb0">Traces</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the currently set traces. </p>
<p>This method is provided in case you have a need to tinker with the internal traces. You generally don't unless you are building on top of <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> in order to do something more complicated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The currently set traces. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e7d147b86033ebe670a58f9d5e9d247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7d147b86033ebe670a58f9d5e9d247">&#9670;&nbsp;</a></span>stepUpdateQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::SARSAL::stepUpdateQ </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rew</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function updates the internal QFunction using the discount set during construction. </p>
<p>This function takes a single experience point and uses it to update the QFunction. This is a very efficient method to keep the QFunction up to date with the latest experience.</p>
<p>Keep in mind that, since <a class="el" href="classAIToolbox_1_1MDP_1_1SARSAL.html" title="This class represents the SARSAL algorithm. ">SARSAL</a> needs to compute the QFunction for the currently used policy, it needs to know two consecutive state-action pairs, in order to correctly relate how the policy acts from state to state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The previous state. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed. </td></tr>
    <tr><td class="paramname">s1</td><td>The new state. </td></tr>
    <tr><td class="paramname">a1</td><td>The action performed in the new state. </td></tr>
    <tr><td class="paramname">rew</td><td>The reward obtained. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/MDP/Algorithms/<a class="el" href="SARSAL_8hpp_source.html">SARSAL.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 11 2018 11:45:46 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
