<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIToolbox: AIToolbox::POMDP::QMDP Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html">QMDP</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classAIToolbox_1_1POMDP_1_1QMDP-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::POMDP::QMDP Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements the <a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> algorithm.  
 <a href="classAIToolbox_1_1POMDP_1_1QMDP.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="QMDP_8hpp_source.html">QMDP.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa0a756d01325f18d52f2d0ca6e6918e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#aa0a756d01325f18d52f2d0ca6e6918e2">QMDP</a> (unsigned horizon, double tolerance=0.001)</td></tr>
<tr class="memdesc:aa0a756d01325f18d52f2d0ca6e6918e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#aa0a756d01325f18d52f2d0ca6e6918e2">More...</a><br /></td></tr>
<tr class="separator:aa0a756d01325f18d52f2d0ca6e6918e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9157c7826fbf93145874a230794cddf6"><td class="memTemplParams" colspan="2">template&lt;typename M , typename  = std::enable_if_t&lt;is_model_v&lt;M&gt;&gt;&gt; </td></tr>
<tr class="memitem:a9157c7826fbf93145874a230794cddf6"><td class="memTemplItemLeft" align="right" valign="top">std::tuple&lt; double, <a class="el" href="namespaceAIToolbox_1_1POMDP.html#ab1cada9fef241e48a9d14d36cb61dabb">ValueFunction</a>, <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#a9157c7826fbf93145874a230794cddf6">operator()</a> (const M &amp;m)</td></tr>
<tr class="memdesc:a9157c7826fbf93145874a230794cddf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function applies the <a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> algorithm on the input <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a>.  <a href="#a9157c7826fbf93145874a230794cddf6">More...</a><br /></td></tr>
<tr class="separator:a9157c7826fbf93145874a230794cddf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9136954ab7b3faa4e4720f8bb4ee9545"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#a9136954ab7b3faa4e4720f8bb4ee9545">setTolerance</a> (double t)</td></tr>
<tr class="memdesc:a9136954ab7b3faa4e4720f8bb4ee9545"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the tolerance parameter.  <a href="#a9136954ab7b3faa4e4720f8bb4ee9545">More...</a><br /></td></tr>
<tr class="separator:a9136954ab7b3faa4e4720f8bb4ee9545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ffe704b393af67c3d4f43aabc516f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#a83ffe704b393af67c3d4f43aabc516f0">setHorizon</a> (unsigned h)</td></tr>
<tr class="memdesc:a83ffe704b393af67c3d4f43aabc516f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the horizon parameter.  <a href="#a83ffe704b393af67c3d4f43aabc516f0">More...</a><br /></td></tr>
<tr class="separator:a83ffe704b393af67c3d4f43aabc516f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486045da45778012cfdcbeb2a4392e5e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#a486045da45778012cfdcbeb2a4392e5e">getTolerance</a> () const</td></tr>
<tr class="memdesc:a486045da45778012cfdcbeb2a4392e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set tolerance parameter.  <a href="#a486045da45778012cfdcbeb2a4392e5e">More...</a><br /></td></tr>
<tr class="separator:a486045da45778012cfdcbeb2a4392e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bda184bf1e6fd95ce4e684fd3959a53"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#a9bda184bf1e6fd95ce4e684fd3959a53">getHorizon</a> () const</td></tr>
<tr class="memdesc:a9bda184bf1e6fd95ce4e684fd3959a53"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the current horizon parameter.  <a href="#a9bda184bf1e6fd95ce4e684fd3959a53">More...</a><br /></td></tr>
<tr class="separator:a9bda184bf1e6fd95ce4e684fd3959a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a006c030e4238f9b9f61b2cc85bb1e93c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespaceAIToolbox_1_1POMDP.html#a5655ffd334a1e53622314eae70eab464">VList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html#a006c030e4238f9b9f61b2cc85bb1e93c">fromQFunction</a> (size_t O, const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> &amp;qfun)</td></tr>
<tr class="memdesc:a006c030e4238f9b9f61b2cc85bb1e93c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts an <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> into the equivalent <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> VList.  <a href="#a006c030e4238f9b9f61b2cc85bb1e93c">More...</a><br /></td></tr>
<tr class="separator:a006c030e4238f9b9f61b2cc85bb1e93c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements the <a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> algorithm. </p>
<p><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> is a particular way to approach a <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> problem and solve it approximately. The idea is to compute a solution that disregards the partial observability for all timesteps but the next one. Thus, we assume that after the next action the agent will suddenly be able to see the true state of the environment, and act accordingly. In doing so then, it will use an <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> value function.</p>
<p>Remember that only the solution process acts this way. When time to act the <a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> solution is simply applied at every timestep, every time assuming that the partial observability is going to last one step.</p>
<p>All in all, this class is pretty much a converter of an <a class="el" href="structAIToolbox_1_1MDP_1_1ValueFunction.html">MDP::ValueFunction</a> into a <a class="el" href="namespaceAIToolbox_1_1POMDP.html#ab1cada9fef241e48a9d14d36cb61dabb">POMDP::ValueFunction</a>.</p>
<p>Although the solution is approximate and overconfident (since we assume that partial observability is going to go away, we think we are going to get more reward), it is still good to obtain a closer upper bound on the true solution. This can be used, for example, to boost bounds on online methods, decreasing the time they take to converge.</p>
<p>The solution returned by <a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> will thus have only horizon 1, since the horizon requested is implicitly encoded in the <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> part of the solution. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa0a756d01325f18d52f2d0ca6e6918e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0a756d01325f18d52f2d0ca6e6918e2">&#9670;&nbsp;</a></span>QMDP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::POMDP::QMDP::QMDP </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>horizon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>0.001</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<p><a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> uses <a class="el" href="classAIToolbox_1_1MDP_1_1ValueIteration.html" title="This class applies the value iteration algorithm on a Model. ">MDP::ValueIteration</a> in order to solve the underlying <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> of the <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a>. Thus, its parameters (and bounds) are the same.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">horizon</td><td>The maximum number of iterations to perform. </td></tr>
    <tr><td class="paramname">tolerance</td><td>The tolerance factor to stop the value iteration loop. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a006c030e4238f9b9f61b2cc85bb1e93c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006c030e4238f9b9f61b2cc85bb1e93c">&#9670;&nbsp;</a></span>fromQFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespaceAIToolbox_1_1POMDP.html#a5655ffd334a1e53622314eae70eab464">VList</a> AIToolbox::POMDP::QMDP::fromQFunction </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>qfun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function converts an <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> into the equivalent <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> VList. </p>
<p>This function directly converts a QFunction into the equivalent VList.</p>
<p>The function needs to know the observation space so that if needed the output can be used in a ValueFunction, and possibly with a <a class="el" href="classAIToolbox_1_1POMDP_1_1Policy.html" title="This class represents a POMDP Policy. ">Policy</a>, without crashing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">O</td><td>The observation space of the <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> to make a VList for. </td></tr>
    <tr><td class="paramname">qfun</td><td>The <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> QFunction from which to create a VList.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A VList equivalent to the input QFunction. </dd></dl>

</div>
</div>
<a id="a9bda184bf1e6fd95ce4e684fd3959a53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bda184bf1e6fd95ce4e684fd3959a53">&#9670;&nbsp;</a></span>getHorizon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned AIToolbox::POMDP::QMDP::getHorizon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the current horizon parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set horizon parameter. </dd></dl>

</div>
</div>
<a id="a486045da45778012cfdcbeb2a4392e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486045da45778012cfdcbeb2a4392e5e">&#9670;&nbsp;</a></span>getTolerance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::POMDP::QMDP::getTolerance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set tolerance parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set tolerance parameter. </dd></dl>

</div>
</div>
<a id="a9157c7826fbf93145874a230794cddf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9157c7826fbf93145874a230794cddf6">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M , typename &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; double, <a class="el" href="namespaceAIToolbox_1_1POMDP.html#ab1cada9fef241e48a9d14d36cb61dabb">ValueFunction</a>, <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> &gt; AIToolbox::POMDP::QMDP::operator() </td>
          <td>(</td>
          <td class="paramtype">const M &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function applies the <a class="el" href="classAIToolbox_1_1POMDP_1_1QMDP.html" title="This class implements the QMDP algorithm. ">QMDP</a> algorithm on the input <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a>. </p>
<p>This function computes the <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a> of the underlying <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> of the input <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> with the parameters set using ValueIteration.</p>
<p>It then converts this solution into the equivalent <a class="el" href="namespaceAIToolbox_1_1POMDP.html#ab1cada9fef241e48a9d14d36cb61dabb">POMDP::ValueFunction</a>. Finally it returns both (plus the variation for the last iteration of ValueIteration).</p>
<p>Note that no pruning is performed here, so some vectors might be dominated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> to be solved</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing the maximum variation for the ValueFunction, the computed ValueFunction and the equivalent <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">MDP::QFunction</a>. </dd></dl>

</div>
</div>
<a id="a83ffe704b393af67c3d4f43aabc516f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ffe704b393af67c3d4f43aabc516f0">&#9670;&nbsp;</a></span>setHorizon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::POMDP::QMDP::setHorizon </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the horizon parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new horizon parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9136954ab7b3faa4e4720f8bb4ee9545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9136954ab7b3faa4e4720f8bb4ee9545">&#9670;&nbsp;</a></span>setTolerance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::POMDP::QMDP::setTolerance </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the tolerance parameter. </p>
<p>The tolerance parameter must be &gt;= 0.0, otherwise the function will throw an std::invalid_argument. The tolerance parameter sets the convergence criterion. A tolerance of 0.0 forces the internal ValueIteration to perform a number of iterations equal to the horizon specified. Otherwise, ValueIteration will stop as soon as the difference between two iterations is less than the tolerance specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The new tolerance parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/POMDP/Algorithms/<a class="el" href="QMDP_8hpp_source.html">QMDP.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 1 2019 11:06:11 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
