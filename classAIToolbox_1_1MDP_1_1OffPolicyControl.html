<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIToolbox: AIToolbox::MDP::OffPolicyControl&lt; Derived &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">OffPolicyControl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classAIToolbox_1_1MDP_1_1OffPolicyControl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::MDP::OffPolicyControl&lt; Derived &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is a general version of off-policy control.  
 <a href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OffPolicyTemplate_8hpp_source.html">OffPolicyTemplate.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AIToolbox::MDP::OffPolicyControl&lt; Derived &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAIToolbox_1_1MDP_1_1OffPolicyControl.png" usemap="#AIToolbox::MDP::OffPolicyControl_3C_20Derived_20_3E_map" alt=""/>
  <map id="AIToolbox::MDP::OffPolicyControl_3C_20Derived_20_3E_map" name="AIToolbox::MDP::OffPolicyControl_3C_20Derived_20_3E_map">
<area href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html" title="This class contains all the boilerplates for off-policy methods. " alt="AIToolbox::MDP::OffPolicyBase" shape="rect" coords="0,0,271,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2457800d96377dc41d02242bbb3fac03"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#a2457800d96377dc41d02242bbb3fac03">Parent</a> = <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">OffPolicyBase</a></td></tr>
<tr class="separator:a2457800d96377dc41d02242bbb3fac03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:a512a4a6b8f5bf33e2b04871f86ec7774 inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a512a4a6b8f5bf33e2b04871f86ec7774">Trace</a> = std::tuple&lt; size_t, size_t, double &gt;</td></tr>
<tr class="separator:a512a4a6b8f5bf33e2b04871f86ec7774 inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eab58ed3351207e1accbb9cc53f02c inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> = std::vector&lt; <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a512a4a6b8f5bf33e2b04871f86ec7774">Trace</a> &gt;</td></tr>
<tr class="separator:a23eab58ed3351207e1accbb9cc53f02c inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a096865e238f6609a92c5748abfabf42b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#a096865e238f6609a92c5748abfabf42b">OffPolicyControl</a> (size_t s, size_t a, double discount=1.0, double alpha=0.1, double tolerance=0.001, double epsilon=0.1)</td></tr>
<tr class="memdesc:a096865e238f6609a92c5748abfabf42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#a096865e238f6609a92c5748abfabf42b">More...</a><br /></td></tr>
<tr class="separator:a096865e238f6609a92c5748abfabf42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f29316601d53e8265b7377d4d8305be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#a1f29316601d53e8265b7377d4d8305be">stepUpdateQ</a> (const size_t s, const size_t a, const size_t s1, const double rew)</td></tr>
<tr class="memdesc:a1f29316601d53e8265b7377d4d8305be"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the internal QFunction using the discount set during construction.  <a href="#a1f29316601d53e8265b7377d4d8305be">More...</a><br /></td></tr>
<tr class="separator:a1f29316601d53e8265b7377d4d8305be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02313a5a651936f6e6d2a00bdf611ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#ad02313a5a651936f6e6d2a00bdf611ae">setEpsilon</a> (double e)</td></tr>
<tr class="memdesc:ad02313a5a651936f6e6d2a00bdf611ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the epsilon parameter.  <a href="#ad02313a5a651936f6e6d2a00bdf611ae">More...</a><br /></td></tr>
<tr class="separator:ad02313a5a651936f6e6d2a00bdf611ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5025009949b622a05250093170d917d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#ac5025009949b622a05250093170d917d">getEpsilon</a> () const</td></tr>
<tr class="memdesc:ac5025009949b622a05250093170d917d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will return the currently set epsilon parameter.  <a href="#ac5025009949b622a05250093170d917d">More...</a><br /></td></tr>
<tr class="separator:ac5025009949b622a05250093170d917d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:a3f7d9fe8573dd4def3737a7f77aba9b0 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a3f7d9fe8573dd4def3737a7f77aba9b0">OffPolicyBase</a> (size_t s, size_t a, double discount=1.0, double alpha=0.1, double tolerance=0.001)</td></tr>
<tr class="memdesc:a3f7d9fe8573dd4def3737a7f77aba9b0 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic construtor.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a3f7d9fe8573dd4def3737a7f77aba9b0">More...</a><br /></td></tr>
<tr class="separator:a3f7d9fe8573dd4def3737a7f77aba9b0 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a0331b8063711b309cee207c610292444">setLearningRate</a> (double a)</td></tr>
<tr class="memdesc:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the learning rate parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a0331b8063711b309cee207c610292444">More...</a><br /></td></tr>
<tr class="separator:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ac22f1e7aa253e33f2c951204bf124ca5">getLearningRate</a> () const</td></tr>
<tr class="memdesc:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will return the current set learning rate parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ac22f1e7aa253e33f2c951204bf124ca5">More...</a><br /></td></tr>
<tr class="separator:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#acb2ad97d5a64d4512e7634e7178e064d">setDiscount</a> (double d)</td></tr>
<tr class="memdesc:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the new discount parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#acb2ad97d5a64d4512e7634e7178e064d">More...</a><br /></td></tr>
<tr class="separator:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a9cfe8e59fd0d23cb735e138cd7bec62b">getDiscount</a> () const</td></tr>
<tr class="memdesc:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set discount parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a9cfe8e59fd0d23cb735e138cd7bec62b">More...</a><br /></td></tr>
<tr class="separator:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a910895873527291a691a5de8f69121 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a4a910895873527291a691a5de8f69121">setTolerance</a> (double t)</td></tr>
<tr class="memdesc:a4a910895873527291a691a5de8f69121 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the trace cutoff parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a4a910895873527291a691a5de8f69121">More...</a><br /></td></tr>
<tr class="separator:a4a910895873527291a691a5de8f69121 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff52a996dcae768ef59333950957c35 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#adff52a996dcae768ef59333950957c35">getTolerance</a> () const</td></tr>
<tr class="memdesc:adff52a996dcae768ef59333950957c35 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set trace cutoff parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#adff52a996dcae768ef59333950957c35">More...</a><br /></td></tr>
<tr class="separator:adff52a996dcae768ef59333950957c35 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a41f53f796f40345d469e5afeb9208672">clearTraces</a> ()</td></tr>
<tr class="memdesc:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the already set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a41f53f796f40345d469e5afeb9208672">More...</a><br /></td></tr>
<tr class="separator:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ab9a548b96b639aa0b7b15c4d9683f061">getTraces</a> () const</td></tr>
<tr class="memdesc:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ab9a548b96b639aa0b7b15c4d9683f061">More...</a><br /></td></tr>
<tr class="separator:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#abb210fc6ec0b5943630aa2538b6ed2b1">setTraces</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> &amp;t)</td></tr>
<tr class="memdesc:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the currently set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#abb210fc6ec0b5943630aa2538b6ed2b1">More...</a><br /></td></tr>
<tr class="separator:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a75e8ba8ff912600f437bcc4e751d6050">getS</a> () const</td></tr>
<tr class="memdesc:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of states on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a75e8ba8ff912600f437bcc4e751d6050">More...</a><br /></td></tr>
<tr class="separator:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a69294aa5bff1ec8ec149b4df24a2eff4">getA</a> () const</td></tr>
<tr class="memdesc:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of actions on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a69294aa5bff1ec8ec149b4df24a2eff4">More...</a><br /></td></tr>
<tr class="separator:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a5e0ddaba5cac28db19922805950911c3">getQFunction</a> () const</td></tr>
<tr class="memdesc:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns a reference to the internal QFunction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a5e0ddaba5cac28db19922805950911c3">More...</a><br /></td></tr>
<tr class="separator:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aea2128b5f2e3b4bba78da6b1cd8c0ef1">setQFunction</a> (const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;qfun)</td></tr>
<tr class="memdesc:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows to directly set the internal QFunction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aea2128b5f2e3b4bba78da6b1cd8c0ef1">More...</a><br /></td></tr>
<tr class="separator:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac720db05a702c66bda6d4392f3f6130d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#ac720db05a702c66bda6d4392f3f6130d">epsilon_</a></td></tr>
<tr class="separator:ac720db05a702c66bda6d4392f3f6130d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:aeeafbca8a67d5fe381cf0f2f84aaffbc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aeeafbca8a67d5fe381cf0f2f84aaffbc">S</a></td></tr>
<tr class="separator:aeeafbca8a67d5fe381cf0f2f84aaffbc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcedced954a83fba13cf7acea6b235d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a2fcedced954a83fba13cf7acea6b235d">A</a></td></tr>
<tr class="separator:a2fcedced954a83fba13cf7acea6b235d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ce909e3b8e3a8ccce065fab7244e7d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a61ce909e3b8e3a8ccce065fab7244e7d">discount_</a></td></tr>
<tr class="separator:a61ce909e3b8e3a8ccce065fab7244e7d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26758dbc33eed8c8b606aed1b787a8cc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a26758dbc33eed8c8b606aed1b787a8cc">alpha_</a></td></tr>
<tr class="separator:a26758dbc33eed8c8b606aed1b787a8cc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85a7f62af643036a0e7deedcde85a58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ad85a7f62af643036a0e7deedcde85a58">tolerance_</a></td></tr>
<tr class="separator:ad85a7f62af643036a0e7deedcde85a58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e80bb8664c85676146ae018649dd58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a31e80bb8664c85676146ae018649dd58">q_</a></td></tr>
<tr class="separator:a31e80bb8664c85676146ae018649dd58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18a1cf6f4b32f76c586e3d0fc5f6b98 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ad18a1cf6f4b32f76c586e3d0fc5f6b98">traces_</a></td></tr>
<tr class="separator:ad18a1cf6f4b32f76c586e3d0fc5f6b98 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aff356f3c8df681837b306cd3755af163">updateTraces</a> (size_t s, size_t a, double error, double traceDiscount)</td></tr>
<tr class="memdesc:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the traces using the input data.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aff356f3c8df681837b306cd3755af163">More...</a><br /></td></tr>
<tr class="separator:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Derived&gt;<br />
class AIToolbox::MDP::OffPolicyControl&lt; Derived &gt;</h3>

<p>This class is a general version of off-policy control. </p>
<p>This class is used to compute the optimal QFunction, when you are actually acting and gathering data following <em>another</em> policy (which is why it's called off-policy). This is what <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> does, for example.</p>
<p>As in the off-policy evaluation case, this method does not work well with a deterministic behaviour. Even worse, we're trying to find out the optimal policy, which is greedy by definition. Thus, this method assumes that the target is an epsilon greedy policy, and needs to know its epsilon. You should, over time, decrease the epsilon and this method should converge to the optimal QFunction.</p>
<p>Note that this class does not necessarily encompass all off-policy control methods. It only does for the one that use eligibility traces in a certain form, such as <a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSampling.html" title="This class implements off-policy control via importance sampling. ">ImportanceSampling</a>, RetraceLambda, etc.</p>
<p>This class is supposed to be used as a CRTP parent. The child must derive it as:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Child : <span class="keyword">public</span> OffPolicyEvaluation&lt;Child&gt; {};</div></div><!-- fragment --><p>In addition, the child must define the function</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> getTraceDiscount(<span class="keywordtype">size_t</span> s, <span class="keywordtype">size_t</span> a, <span class="keywordtype">size_t</span> s1, <span class="keywordtype">double</span> rew, <span class="keywordtype">size_t</span> maxA) <span class="keyword">const</span>;</div></div><!-- fragment --><p>Where maxA is the already computed best greedy action for state s.</p>
<p>This will then be automatically called here to compute the amount to decrease the traces during the stepUpdateQ. For example, in <a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSampling.html" title="This class implements off-policy control via importance sampling. ">ImportanceSampling</a> the function would return:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> prob = <a class="code" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#ac720db05a702c66bda6d4392f3f6130d">epsilon_</a> / <a class="code" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a2fcedced954a83fba13cf7acea6b235d">A</a> + (maxA == a) * (1.0 - <a class="code" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#ac720db05a702c66bda6d4392f3f6130d">epsilon_</a>);</div><div class="line"><span class="keywordflow">return</span> prob / behaviour_.getActionProbability(s, a);</div></div><!-- fragment --><p>Note how this is different from the <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html" title="This class is a general version of off-policy evaluation. ">OffPolicyEvaluation</a> case, as we assume the target policy to be epsilon greedy. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a2457800d96377dc41d02242bbb3fac03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2457800d96377dc41d02242bbb3fac03">&#9670;&nbsp;</a></span>Parent</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">AIToolbox::MDP::OffPolicyControl</a>&lt; Derived &gt;::<a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html#a2457800d96377dc41d02242bbb3fac03">Parent</a> =  <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">OffPolicyBase</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a096865e238f6609a92c5748abfabf42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a096865e238f6609a92c5748abfabf42b">&#9670;&nbsp;</a></span>OffPolicyControl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">AIToolbox::MDP::OffPolicyControl</a>&lt; Derived &gt;::<a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">OffPolicyControl</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>discount</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>0.001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0.1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The size of the state space. </td></tr>
    <tr><td class="paramname">a</td><td>The size of the action space. </td></tr>
    <tr><td class="paramname">discount</td><td>The discount of the environment. </td></tr>
    <tr><td class="paramname">alpha</td><td>The learning rate parameter. </td></tr>
    <tr><td class="paramname">tolerance</td><td>The trace cutoff parameter. </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon of the implied target greedy epsilon policy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac5025009949b622a05250093170d917d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5025009949b622a05250093170d917d">&#9670;&nbsp;</a></span>getEpsilon()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">AIToolbox::MDP::OffPolicyControl</a>&lt; Derived &gt;::getEpsilon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will return the currently set epsilon parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set epsilon parameter. </dd></dl>

</div>
</div>
<a id="ad02313a5a651936f6e6d2a00bdf611ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02313a5a651936f6e6d2a00bdf611ae">&#9670;&nbsp;</a></span>setEpsilon()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">AIToolbox::MDP::OffPolicyControl</a>&lt; Derived &gt;::setEpsilon </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the epsilon parameter. </p>
<p>The epsilon parameter determines the amount of epsilon this policy will enforce when selecting actions. In particular actions are going to selected randomly with probability (1-epsilon), and are going to be selected following the underlying policy with probability epsilon.</p>
<p>The epsilon parameter must be &gt;= 0.0 and &lt;= 1.0, otherwise the function will do throw std::invalid_argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The new epsilon parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f29316601d53e8265b7377d4d8305be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f29316601d53e8265b7377d4d8305be">&#9670;&nbsp;</a></span>stepUpdateQ()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">AIToolbox::MDP::OffPolicyControl</a>&lt; Derived &gt;::stepUpdateQ </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>rew</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function updates the internal QFunction using the discount set during construction. </p>
<p>This function takes a single experience point and uses it to update the QFunction. This is a very efficient method to keep the QFunction up to date with the latest experience.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The previous state. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed. </td></tr>
    <tr><td class="paramname">s1</td><td>The new state. </td></tr>
    <tr><td class="paramname">rew</td><td>The reward obtained. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac720db05a702c66bda6d4392f3f6130d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac720db05a702c66bda6d4392f3f6130d">&#9670;&nbsp;</a></span>epsilon_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyControl.html">AIToolbox::MDP::OffPolicyControl</a>&lt; Derived &gt;::epsilon_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/MDP/Algorithms/Utils/<a class="el" href="OffPolicyTemplate_8hpp_source.html">OffPolicyTemplate.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 6 2020 12:58:22 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
