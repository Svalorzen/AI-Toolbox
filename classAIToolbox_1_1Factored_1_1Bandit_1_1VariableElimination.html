<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIToolbox: AIToolbox::Factored::Bandit::VariableElimination Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1Factored.html">Factored</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1Factored_1_1Bandit.html">Bandit</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html">VariableElimination</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::Factored::Bandit::VariableElimination Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents the Variable Elimination process.  
 <a href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VariableElimination_8hpp_source.html">VariableElimination.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a595a1b4580834cc362b939697367932a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a595a1b4580834cc362b939697367932a">Result</a> = std::tuple&lt; <a class="el" href="namespaceAIToolbox_1_1Factored.html#aa30fc73167a9c8e913053059e23f9692">Action</a>, double &gt;</td></tr>
<tr class="separator:a595a1b4580834cc362b939697367932a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838cad06bc4599743febc0afea513b53"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a838cad06bc4599743febc0afea513b53">Factor</a> = std::pair&lt; double, std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;&gt;</td></tr>
<tr class="separator:a838cad06bc4599743febc0afea513b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b0ce282926ae974a89e1055f269e08"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a45b0ce282926ae974a89e1055f269e08">GVE</a> = <a class="el" href="classAIToolbox_1_1Factored_1_1GenericVariableElimination.html">GenericVariableElimination</a>&lt; <a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a838cad06bc4599743febc0afea513b53">Factor</a> &gt;</td></tr>
<tr class="separator:a45b0ce282926ae974a89e1055f269e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a45b268bef4d5b020bf86c8a587c09da7"><td class="memTemplParams" colspan="2">template&lt;typename Iterable &gt; </td></tr>
<tr class="memitem:a45b268bef4d5b020bf86c8a587c09da7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a595a1b4580834cc362b939697367932a">Result</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a45b268bef4d5b020bf86c8a587c09da7">operator()</a> (const <a class="el" href="namespaceAIToolbox_1_1Factored.html#aa30fc73167a9c8e913053059e23f9692">Action</a> &amp;A, const Iterable &amp;inputRules)</td></tr>
<tr class="memdesc:a45b268bef4d5b020bf86c8a587c09da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function finds the best Action-value pair for the provided QFunctionRules.  <a href="#a45b268bef4d5b020bf86c8a587c09da7">More...</a><br /></td></tr>
<tr class="separator:a45b268bef4d5b020bf86c8a587c09da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a697e5a2e81f2bda67a97ff15625f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a595a1b4580834cc362b939697367932a">Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#ac9a697e5a2e81f2bda67a97ff15625f6">operator()</a> (const <a class="el" href="namespaceAIToolbox_1_1Factored.html#aa30fc73167a9c8e913053059e23f9692">Action</a> &amp;A, <a class="el" href="classAIToolbox_1_1Factored_1_1GenericVariableElimination.html#aad82512b25de1577a13107906322947f">GVE::Graph</a> &amp;graph)</td></tr>
<tr class="memdesc:ac9a697e5a2e81f2bda67a97ff15625f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function performs the actual agent elimination process.  <a href="#ac9a697e5a2e81f2bda67a97ff15625f6">More...</a><br /></td></tr>
<tr class="separator:ac9a697e5a2e81f2bda67a97ff15625f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represents the Variable Elimination process. </p>
<p>This class performs variable elimination on a factor graph. It first builds the graph starting from a list of QFunctionRules. These rules are sorted by the agents they affect, and each group is added to a single factor connected to those agents.</p>
<p>Each agent is then eliminated from the graph, and all rules connected to it are processed in order to find out which action the agent being eliminated should take.</p>
<p>When all agents have been eliminated, only the optimal rules containing the best actions remain. The ones that provide the best reward are joined into a single Action, which is then returned.</p>
<p>This process is exponential in the maximum number of agents found attached to the same factor (which could be higher than in the original graph, as the elimination process can create bigger factors than the initial ones). However, given that each factor is usually linked to few agents, and that this process allows avoiding considering the full factored Action at any one time, it is usually much faster than a brute-force approach.</p>
<p>WARNING: This process only considers rules that have been explicitly passed to it. This may create problems if some of your values have negative values in it, since the elimination process will not consider unmentioned actions as giving 0 reward, and choose them instead of the negative values. In order to avoid this problem either all 0 rules have to be explicitly mentioned for each agent subgroup containing negative rules, or the rules have to be converted to an equivalent graph with positive values. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a838cad06bc4599743febc0afea513b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838cad06bc4599743febc0afea513b53">&#9670;&nbsp;</a></span>Factor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a838cad06bc4599743febc0afea513b53">AIToolbox::Factored::Bandit::VariableElimination::Factor</a> =  std::pair&lt;double, std::vector&lt;std::pair&lt;size_t, size_t&gt; &gt;&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a45b0ce282926ae974a89e1055f269e08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b0ce282926ae974a89e1055f269e08">&#9670;&nbsp;</a></span>GVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a45b0ce282926ae974a89e1055f269e08">AIToolbox::Factored::Bandit::VariableElimination::GVE</a> =  <a class="el" href="classAIToolbox_1_1Factored_1_1GenericVariableElimination.html">GenericVariableElimination</a>&lt;<a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a838cad06bc4599743febc0afea513b53">Factor</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a595a1b4580834cc362b939697367932a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595a1b4580834cc362b939697367932a">&#9670;&nbsp;</a></span>Result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a595a1b4580834cc362b939697367932a">AIToolbox::Factored::Bandit::VariableElimination::Result</a> =  std::tuple&lt;<a class="el" href="namespaceAIToolbox_1_1Factored.html#aa30fc73167a9c8e913053059e23f9692">Action</a>, double&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a45b268bef4d5b020bf86c8a587c09da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b268bef4d5b020bf86c8a587c09da7">&#9670;&nbsp;</a></span>operator()() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Iterable &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a595a1b4580834cc362b939697367932a">Result</a> AIToolbox::Factored::Bandit::VariableElimination::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceAIToolbox_1_1Factored.html#aa30fc73167a9c8e913053059e23f9692">Action</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Iterable &amp;&#160;</td>
          <td class="paramname"><em>inputRules</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function finds the best Action-value pair for the provided QFunctionRules. </p>
<p>This function automatically sets up the Graph to perform GVE on from an iterable of QFunctionRules.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>The action space of the agents. </td></tr>
    <tr><td class="paramname">rules</td><td>An iterable object over QFunctionRules.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing the best Action and its value over the input rules. </dd></dl>

</div>
</div>
<a id="ac9a697e5a2e81f2bda67a97ff15625f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a697e5a2e81f2bda67a97ff15625f6">&#9670;&nbsp;</a></span>operator()() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAIToolbox_1_1Factored_1_1Bandit_1_1VariableElimination.html#a595a1b4580834cc362b939697367932a">Result</a> AIToolbox::Factored::Bandit::VariableElimination::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceAIToolbox_1_1Factored.html#aa30fc73167a9c8e913053059e23f9692">Action</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAIToolbox_1_1Factored_1_1GenericVariableElimination.html#aad82512b25de1577a13107906322947f">GVE::Graph</a> &amp;&#160;</td>
          <td class="paramname"><em>graph</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs the actual agent elimination process. </p>
<p>For each agent, its adjacent factors, and the agents adjacent to those are found. Then all possible action combinations between those other agents are tried in order to find the best action response be for the agent to be eliminated.</p>
<p>All the best responses found are added as Rules to a (possibly new) factor adjacent to the adjacent agents.</p>
<p>The process is repeated until all agents are eliminated.</p>
<p>What remains is then joined into a single Action, containing the best possible value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>The action space of the agents. </td></tr>
    <tr><td class="paramname">graph</td><td>The graph to perform VE on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pair for best Action and its value given the internal graph. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/Factored/Bandit/Algorithms/Utils/<a class="el" href="VariableElimination_8hpp_source.html">VariableElimination.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 6 2020 12:58:21 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
