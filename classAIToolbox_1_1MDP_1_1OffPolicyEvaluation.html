<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIToolbox: AIToolbox::MDP::OffPolicyEvaluation&lt; Derived &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">OffPolicyEvaluation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::MDP::OffPolicyEvaluation&lt; Derived &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is a general version of off-policy evaluation.  
 <a href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OffPolicyTemplate_8hpp_source.html">OffPolicyTemplate.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AIToolbox::MDP::OffPolicyEvaluation&lt; Derived &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.png" usemap="#AIToolbox::MDP::OffPolicyEvaluation_3C_20Derived_20_3E_map" alt=""/>
  <map id="AIToolbox::MDP::OffPolicyEvaluation_3C_20Derived_20_3E_map" name="AIToolbox::MDP::OffPolicyEvaluation_3C_20Derived_20_3E_map">
<area href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html" title="This class contains all the boilerplates for off-policy methods. " alt="AIToolbox::MDP::OffPolicyBase" shape="rect" coords="0,0,289,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a58bdb3b772a298128da8dbf4ed40500f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a58bdb3b772a298128da8dbf4ed40500f">Parent</a> = <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">OffPolicyBase</a></td></tr>
<tr class="separator:a58bdb3b772a298128da8dbf4ed40500f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:a512a4a6b8f5bf33e2b04871f86ec7774 inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a512a4a6b8f5bf33e2b04871f86ec7774">Trace</a> = std::tuple&lt; size_t, size_t, double &gt;</td></tr>
<tr class="separator:a512a4a6b8f5bf33e2b04871f86ec7774 inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eab58ed3351207e1accbb9cc53f02c inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> = std::vector&lt; <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a512a4a6b8f5bf33e2b04871f86ec7774">Trace</a> &gt;</td></tr>
<tr class="separator:a23eab58ed3351207e1accbb9cc53f02c inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a90b64ef4bd97240483707aab8bbfd7f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a90b64ef4bd97240483707aab8bbfd7f8">OffPolicyEvaluation</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;target, const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;behaviour, double discount=1.0, double alpha=0.1, double epsilon=0.001)</td></tr>
<tr class="memdesc:a90b64ef4bd97240483707aab8bbfd7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#a90b64ef4bd97240483707aab8bbfd7f8">More...</a><br /></td></tr>
<tr class="separator:a90b64ef4bd97240483707aab8bbfd7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a51c0bba7e3e384374b5bc46733a80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a03a51c0bba7e3e384374b5bc46733a80">stepUpdateQ</a> (const size_t s, const size_t a, const size_t s1, const double rew)</td></tr>
<tr class="memdesc:a03a51c0bba7e3e384374b5bc46733a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the internal QFunction using the discount set during construction.  <a href="#a03a51c0bba7e3e384374b5bc46733a80">More...</a><br /></td></tr>
<tr class="separator:a03a51c0bba7e3e384374b5bc46733a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:a8e23e29f101c5919ce38e6b626298e8c inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a8e23e29f101c5919ce38e6b626298e8c">OffPolicyBase</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;behaviour, double discount=1.0, double alpha=0.1, double epsilon=0.001)</td></tr>
<tr class="memdesc:a8e23e29f101c5919ce38e6b626298e8c inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic construtor.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a8e23e29f101c5919ce38e6b626298e8c">More...</a><br /></td></tr>
<tr class="separator:a8e23e29f101c5919ce38e6b626298e8c inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a0331b8063711b309cee207c610292444">setLearningRate</a> (double a)</td></tr>
<tr class="memdesc:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the learning rate parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a0331b8063711b309cee207c610292444">More...</a><br /></td></tr>
<tr class="separator:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ac22f1e7aa253e33f2c951204bf124ca5">getLearningRate</a> () const</td></tr>
<tr class="memdesc:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will return the current set learning rate parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ac22f1e7aa253e33f2c951204bf124ca5">More...</a><br /></td></tr>
<tr class="separator:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#acb2ad97d5a64d4512e7634e7178e064d">setDiscount</a> (double d)</td></tr>
<tr class="memdesc:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the new discount parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#acb2ad97d5a64d4512e7634e7178e064d">More...</a><br /></td></tr>
<tr class="separator:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a9cfe8e59fd0d23cb735e138cd7bec62b">getDiscount</a> () const</td></tr>
<tr class="memdesc:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set discount parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a9cfe8e59fd0d23cb735e138cd7bec62b">More...</a><br /></td></tr>
<tr class="separator:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d98d4ae2c14735543a88cb678d25f1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a74d98d4ae2c14735543a88cb678d25f1">setEpsilon</a> (double e)</td></tr>
<tr class="memdesc:a74d98d4ae2c14735543a88cb678d25f1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the trace cutoff parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a74d98d4ae2c14735543a88cb678d25f1">More...</a><br /></td></tr>
<tr class="separator:a74d98d4ae2c14735543a88cb678d25f1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3fe40e9944039fe4bf9cdbf6d2066e inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aaf3fe40e9944039fe4bf9cdbf6d2066e">getEpsilon</a> () const</td></tr>
<tr class="memdesc:aaf3fe40e9944039fe4bf9cdbf6d2066e inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set trace cutoff parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aaf3fe40e9944039fe4bf9cdbf6d2066e">More...</a><br /></td></tr>
<tr class="separator:aaf3fe40e9944039fe4bf9cdbf6d2066e inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a41f53f796f40345d469e5afeb9208672">clearTraces</a> ()</td></tr>
<tr class="memdesc:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the already set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a41f53f796f40345d469e5afeb9208672">More...</a><br /></td></tr>
<tr class="separator:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ab9a548b96b639aa0b7b15c4d9683f061">getTraces</a> () const</td></tr>
<tr class="memdesc:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ab9a548b96b639aa0b7b15c4d9683f061">More...</a><br /></td></tr>
<tr class="separator:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#abb210fc6ec0b5943630aa2538b6ed2b1">setTraces</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> &amp;t)</td></tr>
<tr class="memdesc:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the currently set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#abb210fc6ec0b5943630aa2538b6ed2b1">More...</a><br /></td></tr>
<tr class="separator:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a75e8ba8ff912600f437bcc4e751d6050">getS</a> () const</td></tr>
<tr class="memdesc:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of states on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a75e8ba8ff912600f437bcc4e751d6050">More...</a><br /></td></tr>
<tr class="separator:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a69294aa5bff1ec8ec149b4df24a2eff4">getA</a> () const</td></tr>
<tr class="memdesc:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of actions on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm. ">QLearning</a> is working.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a69294aa5bff1ec8ec149b4df24a2eff4">More...</a><br /></td></tr>
<tr class="separator:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a5e0ddaba5cac28db19922805950911c3">getQFunction</a> () const</td></tr>
<tr class="memdesc:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns a reference to the internal QFunction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a5e0ddaba5cac28db19922805950911c3">More...</a><br /></td></tr>
<tr class="separator:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aea2128b5f2e3b4bba78da6b1cd8c0ef1">setQFunction</a> (const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;qfun)</td></tr>
<tr class="memdesc:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows to directly set the internal QFunction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aea2128b5f2e3b4bba78da6b1cd8c0ef1">More...</a><br /></td></tr>
<tr class="separator:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae356e0ce503b012bc2dd44522fef3b24"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#ae356e0ce503b012bc2dd44522fef3b24">target_</a></td></tr>
<tr class="separator:ae356e0ce503b012bc2dd44522fef3b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:aeeafbca8a67d5fe381cf0f2f84aaffbc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aeeafbca8a67d5fe381cf0f2f84aaffbc">S</a></td></tr>
<tr class="separator:aeeafbca8a67d5fe381cf0f2f84aaffbc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcedced954a83fba13cf7acea6b235d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a2fcedced954a83fba13cf7acea6b235d">A</a></td></tr>
<tr class="separator:a2fcedced954a83fba13cf7acea6b235d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ce909e3b8e3a8ccce065fab7244e7d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a61ce909e3b8e3a8ccce065fab7244e7d">discount_</a></td></tr>
<tr class="separator:a61ce909e3b8e3a8ccce065fab7244e7d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26758dbc33eed8c8b606aed1b787a8cc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a26758dbc33eed8c8b606aed1b787a8cc">alpha_</a></td></tr>
<tr class="separator:a26758dbc33eed8c8b606aed1b787a8cc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0ce894b3c94132eb4997f36f1217ed inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#adb0ce894b3c94132eb4997f36f1217ed">epsilon_</a></td></tr>
<tr class="separator:adb0ce894b3c94132eb4997f36f1217ed inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e80bb8664c85676146ae018649dd58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a31e80bb8664c85676146ae018649dd58">q_</a></td></tr>
<tr class="separator:a31e80bb8664c85676146ae018649dd58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18a1cf6f4b32f76c586e3d0fc5f6b98 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ad18a1cf6f4b32f76c586e3d0fc5f6b98">traces_</a></td></tr>
<tr class="separator:ad18a1cf6f4b32f76c586e3d0fc5f6b98 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef5f56b38bf96ef8c0a5a1b4c8690ea inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a3ef5f56b38bf96ef8c0a5a1b4c8690ea">behaviour_</a></td></tr>
<tr class="separator:a3ef5f56b38bf96ef8c0a5a1b4c8690ea inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aff356f3c8df681837b306cd3755af163">updateTraces</a> (size_t s, size_t a, double error, double traceDiscount)</td></tr>
<tr class="memdesc:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the traces using the input data.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aff356f3c8df681837b306cd3755af163">More...</a><br /></td></tr>
<tr class="separator:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Derived&gt;<br />
class AIToolbox::MDP::OffPolicyEvaluation&lt; Derived &gt;</h3>

<p>This class is a general version of off-policy evaluation. </p>
<p>This class is used to compute the QFunction of a given policy, when you are actually acting and gathering data following <em>another</em> policy (which is why it's called off-policy).</p>
<p>Keep in mind that these kind of methods are not very efficient when either the target or the behaviour policy are very deterministic. This is because greedy policies (at least with methods that use some kind of importance sampling) tend to cut traces short, which is basically equivalent to discarding data (this must be done to ensure correctness though).</p>
<p>Note that this class does not necessarily encompass all off-policy evaluation methods. It only does for the one that use eligibility traces in a certain form, such as <a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSampling.html" title="This class implements off-policy control via importance sampling. ">ImportanceSampling</a>, RetraceLambda, etc.</p>
<p>This class is supposed to be used as a CRTP parent. The child must derive it as:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Child : <span class="keyword">public</span> <a class="code" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a90b64ef4bd97240483707aab8bbfd7f8">OffPolicyEvaluation</a>&lt;Child&gt; {};</div></div><!-- fragment --><p>In addition, the child must define the function</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> getTraceDiscount(<span class="keywordtype">size_t</span> s, <span class="keywordtype">size_t</span> a, <span class="keywordtype">size_t</span> s1, <span class="keywordtype">double</span> rew) <span class="keyword">const</span>;</div></div><!-- fragment --><p>This will then be automatically called here to compute the amount to decrease the traces during the stepUpdateQ. For example, in <a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSampling.html" title="This class implements off-policy control via importance sampling. ">ImportanceSampling</a> the function would return:</p>
<div class="fragment"><div class="line"><span class="keywordflow">return</span> <a class="code" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#ae356e0ce503b012bc2dd44522fef3b24">target_</a>.<a class="code" href="classAIToolbox_1_1PolicyInterface.html#abd87203abf911c7247ad769bf60db3f2">getActionProbability</a>(s, a) / <a class="code" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a3ef5f56b38bf96ef8c0a5a1b4c8690ea">behaviour_</a>.<a class="code" href="classAIToolbox_1_1PolicyInterface.html#abd87203abf911c7247ad769bf60db3f2">getActionProbability</a>(s, a);</div></div><!-- fragment --> </div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a58bdb3b772a298128da8dbf4ed40500f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58bdb3b772a298128da8dbf4ed40500f">&#9670;&nbsp;</a></span>Parent</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation</a>&lt; Derived &gt;::<a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a58bdb3b772a298128da8dbf4ed40500f">Parent</a> =  <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">OffPolicyBase</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a90b64ef4bd97240483707aab8bbfd7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90b64ef4bd97240483707aab8bbfd7f8">&#9670;&nbsp;</a></span>OffPolicyEvaluation()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation</a>&lt; Derived &gt;::<a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">OffPolicyEvaluation</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td>
          <td class="paramname"><em>behaviour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>discount</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0.001</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The policy to be evaluated. </td></tr>
    <tr><td class="paramname">behaviour</td><td>The policy that is being followed. </td></tr>
    <tr><td class="paramname">discount</td><td>The discount of the environment. </td></tr>
    <tr><td class="paramname">alpha</td><td>The learning rate parameter. </td></tr>
    <tr><td class="paramname">epsilon</td><td>The trace cutoff parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a03a51c0bba7e3e384374b5bc46733a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03a51c0bba7e3e384374b5bc46733a80">&#9670;&nbsp;</a></span>stepUpdateQ()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation</a>&lt; Derived &gt;::stepUpdateQ </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>rew</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function updates the internal QFunction using the discount set during construction. </p>
<p>This function takes a single experience point and uses it to update the QFunction. This is a very efficient method to keep the QFunction up to date with the latest experience.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The previous state. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed. </td></tr>
    <tr><td class="paramname">s1</td><td>The new state. </td></tr>
    <tr><td class="paramname">rew</td><td>The reward obtained. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae356e0ce503b012bc2dd44522fef3b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae356e0ce503b012bc2dd44522fef3b24">&#9670;&nbsp;</a></span>target_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a>&amp; <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation</a>&lt; Derived &gt;::target_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/MDP/Algorithms/Utils/<a class="el" href="OffPolicyTemplate_8hpp_source.html">OffPolicyTemplate.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 11 2018 11:45:22 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
