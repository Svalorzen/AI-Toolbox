<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIToolbox: AIToolbox::MDP::ImportanceSamplingEvaluation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::MDP::ImportanceSamplingEvaluation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements off-policy evaluation via importance sampling.  
 <a href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ImportanceSampling_8hpp_source.html">ImportanceSampling.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AIToolbox::MDP::ImportanceSamplingEvaluation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.png" usemap="#AIToolbox::MDP::ImportanceSamplingEvaluation_map" alt=""/>
  <map id="AIToolbox::MDP::ImportanceSamplingEvaluation_map" name="AIToolbox::MDP::ImportanceSamplingEvaluation_map">
<area href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html" alt="AIToolbox::MDP::OffPolicyEvaluation&lt; ImportanceSamplingEvaluation &gt;" shape="rect" coords="0,56,416,80"/>
<area href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html" title="This class contains all the boilerplates for off-policy methods." alt="AIToolbox::MDP::OffPolicyBase" shape="rect" coords="0,0,416,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8537ee35986980d810551f37168b50fa"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html#a8537ee35986980d810551f37168b50fa">Parent</a> = <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">OffPolicyEvaluation</a>&lt; <a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html">ImportanceSamplingEvaluation</a> &gt;</td></tr>
<tr class="separator:a8537ee35986980d810551f37168b50fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation&lt; ImportanceSamplingEvaluation &gt;</a></td></tr>
<tr class="memitem:a58bdb3b772a298128da8dbf4ed40500f inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a58bdb3b772a298128da8dbf4ed40500f">Parent</a> = <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">OffPolicyBase</a></td></tr>
<tr class="separator:a58bdb3b772a298128da8dbf4ed40500f inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:a512a4a6b8f5bf33e2b04871f86ec7774 inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a512a4a6b8f5bf33e2b04871f86ec7774">Trace</a> = std::tuple&lt; size_t, size_t, double &gt;</td></tr>
<tr class="separator:a512a4a6b8f5bf33e2b04871f86ec7774 inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eab58ed3351207e1accbb9cc53f02c inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> = std::vector&lt; <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a512a4a6b8f5bf33e2b04871f86ec7774">Trace</a> &gt;</td></tr>
<tr class="separator:a23eab58ed3351207e1accbb9cc53f02c inherit pub_types_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0d39471fa95e659f7625dcc5d3881d21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html#a0d39471fa95e659f7625dcc5d3881d21">ImportanceSamplingEvaluation</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;target, const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;behaviour, const double discount, const double alpha, const double tolerance)</td></tr>
<tr class="memdesc:a0d39471fa95e659f7625dcc5d3881d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html#a0d39471fa95e659f7625dcc5d3881d21">More...</a><br /></td></tr>
<tr class="separator:a0d39471fa95e659f7625dcc5d3881d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation&lt; ImportanceSamplingEvaluation &gt;</a></td></tr>
<tr class="memitem:abd5eb40393572b74b67377594c75f788 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#abd5eb40393572b74b67377594c75f788">OffPolicyEvaluation</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;target, double discount=1.0, double alpha=0.1, double tolerance=0.001)</td></tr>
<tr class="memdesc:abd5eb40393572b74b67377594c75f788 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#abd5eb40393572b74b67377594c75f788">More...</a><br /></td></tr>
<tr class="separator:abd5eb40393572b74b67377594c75f788 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a51c0bba7e3e384374b5bc46733a80 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a03a51c0bba7e3e384374b5bc46733a80">stepUpdateQ</a> (const size_t s, const size_t a, const size_t s1, const double rew)</td></tr>
<tr class="memdesc:a03a51c0bba7e3e384374b5bc46733a80 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the internal QFunction using the discount set during construction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#a03a51c0bba7e3e384374b5bc46733a80">More...</a><br /></td></tr>
<tr class="separator:a03a51c0bba7e3e384374b5bc46733a80 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:a3f7d9fe8573dd4def3737a7f77aba9b0 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a3f7d9fe8573dd4def3737a7f77aba9b0">OffPolicyBase</a> (size_t s, size_t a, double discount=1.0, double alpha=0.1, double tolerance=0.001)</td></tr>
<tr class="memdesc:a3f7d9fe8573dd4def3737a7f77aba9b0 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic construtor.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a3f7d9fe8573dd4def3737a7f77aba9b0">More...</a><br /></td></tr>
<tr class="separator:a3f7d9fe8573dd4def3737a7f77aba9b0 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a0331b8063711b309cee207c610292444">setLearningRate</a> (double a)</td></tr>
<tr class="memdesc:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the learning rate parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a0331b8063711b309cee207c610292444">More...</a><br /></td></tr>
<tr class="separator:a0331b8063711b309cee207c610292444 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ac22f1e7aa253e33f2c951204bf124ca5">getLearningRate</a> () const</td></tr>
<tr class="memdesc:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will return the current set learning rate parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ac22f1e7aa253e33f2c951204bf124ca5">More...</a><br /></td></tr>
<tr class="separator:ac22f1e7aa253e33f2c951204bf124ca5 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#acb2ad97d5a64d4512e7634e7178e064d">setDiscount</a> (double d)</td></tr>
<tr class="memdesc:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the new discount parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#acb2ad97d5a64d4512e7634e7178e064d">More...</a><br /></td></tr>
<tr class="separator:acb2ad97d5a64d4512e7634e7178e064d inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a9cfe8e59fd0d23cb735e138cd7bec62b">getDiscount</a> () const</td></tr>
<tr class="memdesc:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set discount parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a9cfe8e59fd0d23cb735e138cd7bec62b">More...</a><br /></td></tr>
<tr class="separator:a9cfe8e59fd0d23cb735e138cd7bec62b inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a910895873527291a691a5de8f69121 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a4a910895873527291a691a5de8f69121">setTolerance</a> (double t)</td></tr>
<tr class="memdesc:a4a910895873527291a691a5de8f69121 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the trace cutoff parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a4a910895873527291a691a5de8f69121">More...</a><br /></td></tr>
<tr class="separator:a4a910895873527291a691a5de8f69121 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff52a996dcae768ef59333950957c35 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#adff52a996dcae768ef59333950957c35">getTolerance</a> () const</td></tr>
<tr class="memdesc:adff52a996dcae768ef59333950957c35 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set trace cutoff parameter.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#adff52a996dcae768ef59333950957c35">More...</a><br /></td></tr>
<tr class="separator:adff52a996dcae768ef59333950957c35 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a41f53f796f40345d469e5afeb9208672">clearTraces</a> ()</td></tr>
<tr class="memdesc:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the already set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a41f53f796f40345d469e5afeb9208672">More...</a><br /></td></tr>
<tr class="separator:a41f53f796f40345d469e5afeb9208672 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ab9a548b96b639aa0b7b15c4d9683f061">getTraces</a> () const</td></tr>
<tr class="memdesc:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ab9a548b96b639aa0b7b15c4d9683f061">More...</a><br /></td></tr>
<tr class="separator:ab9a548b96b639aa0b7b15c4d9683f061 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#abb210fc6ec0b5943630aa2538b6ed2b1">setTraces</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a> &amp;t)</td></tr>
<tr class="memdesc:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the currently set traces.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#abb210fc6ec0b5943630aa2538b6ed2b1">More...</a><br /></td></tr>
<tr class="separator:abb210fc6ec0b5943630aa2538b6ed2b1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a75e8ba8ff912600f437bcc4e751d6050">getS</a> () const</td></tr>
<tr class="memdesc:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of states on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm.">QLearning</a> is working.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a75e8ba8ff912600f437bcc4e751d6050">More...</a><br /></td></tr>
<tr class="separator:a75e8ba8ff912600f437bcc4e751d6050 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a69294aa5bff1ec8ec149b4df24a2eff4">getA</a> () const</td></tr>
<tr class="memdesc:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of actions on which <a class="el" href="classAIToolbox_1_1MDP_1_1QLearning.html" title="This class represents the QLearning algorithm.">QLearning</a> is working.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a69294aa5bff1ec8ec149b4df24a2eff4">More...</a><br /></td></tr>
<tr class="separator:a69294aa5bff1ec8ec149b4df24a2eff4 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a5e0ddaba5cac28db19922805950911c3">getQFunction</a> () const</td></tr>
<tr class="memdesc:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns a reference to the internal QFunction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a5e0ddaba5cac28db19922805950911c3">More...</a><br /></td></tr>
<tr class="separator:a5e0ddaba5cac28db19922805950911c3 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aea2128b5f2e3b4bba78da6b1cd8c0ef1">setQFunction</a> (const <a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a> &amp;qfun)</td></tr>
<tr class="memdesc:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows to directly set the internal QFunction.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aea2128b5f2e3b4bba78da6b1cd8c0ef1">More...</a><br /></td></tr>
<tr class="separator:aea2128b5f2e3b4bba78da6b1cd8c0ef1 inherit pub_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aff356f3c8df681837b306cd3755af163">updateTraces</a> (size_t s, size_t a, double error, double traceDiscount)</td></tr>
<tr class="memdesc:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the traces using the input data.  <a href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aff356f3c8df681837b306cd3755af163">More...</a><br /></td></tr>
<tr class="separator:aff356f3c8df681837b306cd3755af163 inherit pro_methods_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">AIToolbox::MDP::OffPolicyEvaluation&lt; ImportanceSamplingEvaluation &gt;</a></td></tr>
<tr class="memitem:ae356e0ce503b012bc2dd44522fef3b24 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html#ae356e0ce503b012bc2dd44522fef3b24">target_</a></td></tr>
<tr class="separator:ae356e0ce503b012bc2dd44522fef3b24 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyEvaluation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html">AIToolbox::MDP::OffPolicyBase</a></td></tr>
<tr class="memitem:aeeafbca8a67d5fe381cf0f2f84aaffbc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#aeeafbca8a67d5fe381cf0f2f84aaffbc">S</a></td></tr>
<tr class="separator:aeeafbca8a67d5fe381cf0f2f84aaffbc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcedced954a83fba13cf7acea6b235d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a2fcedced954a83fba13cf7acea6b235d">A</a></td></tr>
<tr class="separator:a2fcedced954a83fba13cf7acea6b235d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ce909e3b8e3a8ccce065fab7244e7d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a61ce909e3b8e3a8ccce065fab7244e7d">discount_</a></td></tr>
<tr class="separator:a61ce909e3b8e3a8ccce065fab7244e7d inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26758dbc33eed8c8b606aed1b787a8cc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a26758dbc33eed8c8b606aed1b787a8cc">alpha_</a></td></tr>
<tr class="separator:a26758dbc33eed8c8b606aed1b787a8cc inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85a7f62af643036a0e7deedcde85a58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ad85a7f62af643036a0e7deedcde85a58">tolerance_</a></td></tr>
<tr class="separator:ad85a7f62af643036a0e7deedcde85a58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e80bb8664c85676146ae018649dd58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceAIToolbox_1_1MDP.html#a7511ad35cec2e20bf392458125e28ebc">QFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a31e80bb8664c85676146ae018649dd58">q_</a></td></tr>
<tr class="separator:a31e80bb8664c85676146ae018649dd58 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18a1cf6f4b32f76c586e3d0fc5f6b98 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#a23eab58ed3351207e1accbb9cc53f02c">Traces</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyBase.html#ad18a1cf6f4b32f76c586e3d0fc5f6b98">traces_</a></td></tr>
<tr class="separator:ad18a1cf6f4b32f76c586e3d0fc5f6b98 inherit pro_attribs_classAIToolbox_1_1MDP_1_1OffPolicyBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements off-policy evaluation via importance sampling. </p>
<p>This off policy algorithm weights the traces based on the ratio of the likelyhood of the target policy vs the behaviour policy.</p>
<p>The idea behind this is that if an action is very unlikely to be taken by the behaviour with respect to the target, then we should count it more, as if to "simulate" the returns we'd get when acting with the target policy.</p>
<p>On the other side, if an action is very likely to be taken by the behaviour policy with respect to the target, we're going to count it less, as we're probably going to see this action picked a lot more times than what we'd have done with the target.</p>
<p>While this method is correct in theory, in practice it suffers from an incredibly high, if possibly infinite, variance. What happens is if you get a sequence of lucky (or unlucky) action choices, the traces get either cut or, even worse, get incredibly high valued, which skews the results quite a lot. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a8537ee35986980d810551f37168b50fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8537ee35986980d810551f37168b50fa">&#9670;&nbsp;</a></span>Parent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html#a8537ee35986980d810551f37168b50fa">AIToolbox::MDP::ImportanceSamplingEvaluation::Parent</a> =  <a class="el" href="classAIToolbox_1_1MDP_1_1OffPolicyEvaluation.html">OffPolicyEvaluation</a>&lt;<a class="el" href="classAIToolbox_1_1MDP_1_1ImportanceSamplingEvaluation.html">ImportanceSamplingEvaluation</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0d39471fa95e659f7625dcc5d3881d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d39471fa95e659f7625dcc5d3881d21">&#9670;&nbsp;</a></span>ImportanceSamplingEvaluation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::MDP::ImportanceSamplingEvaluation::ImportanceSamplingEvaluation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAIToolbox_1_1MDP_1_1PolicyInterface.html">PolicyInterface</a> &amp;&#160;</td>
          <td class="paramname"><em>behaviour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>discount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>tolerance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Target policy. </td></tr>
    <tr><td class="paramname">behaviour</td><td>Behaviour policy </td></tr>
    <tr><td class="paramname">discount</td><td>Discount for the problem. </td></tr>
    <tr><td class="paramname">alpha</td><td>Learning rate parameter. </td></tr>
    <tr><td class="paramname">tolerance</td><td>Trace cutoff parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/MDP/Algorithms/<a class="el" href="ImportanceSampling_8hpp_source.html">ImportanceSampling.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
